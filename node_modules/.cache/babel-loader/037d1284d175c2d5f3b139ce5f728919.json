{"ast":null,"code":"import { validateLimitRateParams } from '../validateLimitRateParams/validateLimitRateParams';\nvar getLeftTime = function getLeftTime(id, throttle, localStorage) {\n  var lastTime = Number(localStorage.getItem(id) || 0);\n  return throttle - Date.now() + lastTime;\n};\nvar removeRecord = function removeRecord(id, leftTime, localStorage) {\n  setTimeout(function () {\n    localStorage.removeItem(id);\n  }, leftTime);\n};\nexport var isLimitRateHit = function isLimitRateHit(localStorage, defaultID, options) {\n  if (!options.throttle) {\n    return false;\n  }\n  validateLimitRateParams(options.throttle, options.id);\n  var id = options.id || defaultID;\n  var leftTime = getLeftTime(id, options.throttle, localStorage);\n  if (leftTime > 0) {\n    removeRecord(id, leftTime, localStorage);\n    return true;\n  }\n  localStorage.setItem(id, Date.now().toString());\n  removeRecord(id, options.throttle, localStorage);\n  return false;\n};","map":{"version":3,"names":["validateLimitRateParams","getLeftTime","id","throttle","localStorage","lastTime","Number","getItem","Date","now","removeRecord","leftTime","setTimeout","removeItem","isLimitRateHit","defaultID","options","setItem","toString"],"sources":["/Users/mikus/dev/portfolio/node_modules/@emailjs/browser/es/utils/isLimitRateHit/isLimitRateHit.js"],"sourcesContent":["import { validateLimitRateParams } from '../validateLimitRateParams/validateLimitRateParams';\nconst getLeftTime = (id, throttle, localStorage) => {\n    const lastTime = Number(localStorage.getItem(id) || 0);\n    return throttle - Date.now() + lastTime;\n};\nconst removeRecord = (id, leftTime, localStorage) => {\n    setTimeout(() => {\n        localStorage.removeItem(id);\n    }, leftTime);\n};\nexport const isLimitRateHit = (localStorage, defaultID, options) => {\n    if (!options.throttle) {\n        return false;\n    }\n    validateLimitRateParams(options.throttle, options.id);\n    const id = options.id || defaultID;\n    const leftTime = getLeftTime(id, options.throttle, localStorage);\n    if (leftTime > 0) {\n        removeRecord(id, leftTime, localStorage);\n        return true;\n    }\n    localStorage.setItem(id, Date.now().toString());\n    removeRecord(id, options.throttle, localStorage);\n    return false;\n};\n"],"mappings":"AAAA,SAASA,uBAAuB,QAAQ,oDAAoD;AAC5F,IAAMC,WAAW,GAAG,SAAdA,WAAWA,CAAIC,EAAE,EAAEC,QAAQ,EAAEC,YAAY,EAAK;EAChD,IAAMC,QAAQ,GAAGC,MAAM,CAACF,YAAY,CAACG,OAAO,CAACL,EAAE,CAAC,IAAI,CAAC,CAAC;EACtD,OAAOC,QAAQ,GAAGK,IAAI,CAACC,GAAG,EAAE,GAAGJ,QAAQ;AAC3C,CAAC;AACD,IAAMK,YAAY,GAAG,SAAfA,YAAYA,CAAIR,EAAE,EAAES,QAAQ,EAAEP,YAAY,EAAK;EACjDQ,UAAU,CAAC,YAAM;IACbR,YAAY,CAACS,UAAU,CAACX,EAAE,CAAC;EAC/B,CAAC,EAAES,QAAQ,CAAC;AAChB,CAAC;AACD,OAAO,IAAMG,cAAc,GAAG,SAAjBA,cAAcA,CAAIV,YAAY,EAAEW,SAAS,EAAEC,OAAO,EAAK;EAChE,IAAI,CAACA,OAAO,CAACb,QAAQ,EAAE;IACnB,OAAO,KAAK;EAChB;EACAH,uBAAuB,CAACgB,OAAO,CAACb,QAAQ,EAAEa,OAAO,CAACd,EAAE,CAAC;EACrD,IAAMA,EAAE,GAAGc,OAAO,CAACd,EAAE,IAAIa,SAAS;EAClC,IAAMJ,QAAQ,GAAGV,WAAW,CAACC,EAAE,EAAEc,OAAO,CAACb,QAAQ,EAAEC,YAAY,CAAC;EAChE,IAAIO,QAAQ,GAAG,CAAC,EAAE;IACdD,YAAY,CAACR,EAAE,EAAES,QAAQ,EAAEP,YAAY,CAAC;IACxC,OAAO,IAAI;EACf;EACAA,YAAY,CAACa,OAAO,CAACf,EAAE,EAAEM,IAAI,CAACC,GAAG,EAAE,CAACS,QAAQ,EAAE,CAAC;EAC/CR,YAAY,CAACR,EAAE,EAAEc,OAAO,CAACb,QAAQ,EAAEC,YAAY,CAAC;EAChD,OAAO,KAAK;AAChB,CAAC"},"metadata":{},"sourceType":"module"}